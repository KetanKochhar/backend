<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Wear</title>

    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TLNHSNDT');</script>
<!-- End Google Tag Manager -->

    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <style>
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            background-color: white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        #mobile-menu {
            z-index: 11;
        }

        .logo img {
            width: 120px;
        }

        .nav-links a {
            text-decoration: none;
            color: #143109;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #1a4c12;
        }

        .login,
        .signup {
            padding: 8px 15px;
            font-size: 14px;
            border-radius: 5px;
            cursor: pointer;
        }

        .login {
            background: transparent;
            border: 0.1px solid #143109;
            color: #143109;
        }

        .login:hover {
            background: #143109;
            color: white;
        }

        .signup {
            background: #143109;
            color: white;
        }
    </style>
</head>
<!-- Navbar -->
<nav class="navbar">
    <div class="logo">
        <img src="/images/logo1.svg" alt="Custom Wear Logo" />
    </div>

    <!-- Desktop Buttons -->
    <div class="buttons hidden md:flex space-x-4">
        <% if (user) { %>
            <a href="/profile"><button class="login">Profile</button></a>
            <% } %>
    </div>

    <!-- Hamburger Icon -->
    <div class="md:hidden">
        <button id="mobile-menu-button" class="text-gray-700">
            <i class="fas fa-bars text-2xl"></i>
        </button>
    </div>
</nav>

<!-- Mobile Drawer -->
<div id="mobile-menu"
    class="fixed top-0 right-0 w-64 h-full bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out z-50 md:hidden">
    <div class="p-4 flex justify-between items-center border-b">
        <span class="font-bold text-lg">Menu</span>
        <button id="close-mobile-menu" class="text-gray-700">
            <i class="fas fa-times text-xl"></i>
        </button>
    </div>
    <ul class="flex flex-col px-6 py-4 space-y-4">
        <% if (user) { %>
            <li><a href="/profile"><button class="login w-full text-left">Profile</button></a></li>
            <% } %>
    </ul>
</div>



<!-- Scripts -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const mobileMenu = document.getElementById('mobile-menu');
        const openBtn = document.getElementById('mobile-menu-button');
        const closeBtn = document.getElementById('close-mobile-menu');

        openBtn.addEventListener('click', () => {
            mobileMenu.classList.remove('translate-x-full');
        });

        closeBtn.addEventListener('click', () => {
            mobileMenu.classList.add('translate-x-full');
        });

        document.addEventListener('click', (e) => {
            if (!mobileMenu.contains(e.target) && !openBtn.contains(e.target)) {
                mobileMenu.classList.add('translate-x-full');
            }
        });

        mobileMenu.querySelectorAll('a, button').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('translate-x-full');
            });
        });

        // Scroll on homepage if needed
        if (localStorage.getItem('scrollToDesignSteps') === 'true') {
            localStorage.removeItem('scrollToDesignSteps');
            setTimeout(() => {
                document.getElementById('design-steps')?.scrollIntoView({ behavior: 'smooth' });
            }, 300);
        }
    });

    function goToHowItWorks() {
        if (window.location.pathname === '/') {
            document.getElementById('design-steps')?.scrollIntoView({ behavior: 'smooth' });
            closeMobileMenu();
        } else {
            localStorage.setItem('scrollToDesignSteps', 'true');
            window.location.href = '/';
        }
    }

    function closeMobileMenu() {
        document.getElementById('mobile-menu')?.classList.add('translate-x-full');
    }
</script>